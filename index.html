<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=1200">
    <meta name="google" content="notranslate">
    <title>Text Line Splitter</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <link rel="apple-touch-icon" sizes="180x180" href="favicon/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="favicon/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="favicon/favicon-16x16.png">
    <link rel="manifest" href="favicon/site.webmanifest">
    <link rel="shortcut icon" href="favicon/favicon.ico">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>
</head>

<body>
    <div class="app-container single-page">
        <header>
            <h1>Line <span class="gradient-text">Splitter</span> <span class="version-tag">v26.0115a</span></h1>
            <div class="header-controls" style="margin-left: auto; display: flex; align-items: center; gap: 8px;">
                <div class="text-size-control">
                    <button id="font-decrease" class="btn-icon" title="Decrease Font Size">
                        <span style="font-size: 10px; font-weight: bold;">A-</span>
                    </button>
                    <span id="font-size-label"
                        style="font-size: 0.85rem; min-width: 35px; text-align: center; color: var(--text-muted);">12pt</span>
                    <button id="font-increase" class="btn-icon" title="Increase Font Size">
                        <span style="font-size: 14px; font-weight: bold;">A+</span>
                    </button>
                </div>
                <div class="divider" style="height: 24px; margin: 0 4px;"></div>
                <button id="swap-panels-btn" class="theme-toggle" title="Swap Panels"
                    style="margin-left: 0; margin-right: 0;">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
                        stroke="currentColor" style="width: 20px; height: 20px;">
                        <path stroke-linecap="round" stroke-linejoin="round"
                            d="M7.5 21 3 16.5m0 0L7.5 12M3 16.5h13.5m0-13.5L21 7.5m0 0L16.5 12M21 7.5H7.5" />
                    </svg>
                </button>
                <button id="theme-toggle" class="theme-toggle" title="Toggle Theme" style="margin-left: 0;">
                    <svg class="sun-icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"
                        stroke-width="1.5" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round"
                            d="M12 3v2.25m6.364.386l-1.591 1.591M21 12h-2.25m-.386 6.364l-1.591-1.591M12 18.75V21m-4.773-4.227l-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0z" />
                    </svg>
                    <svg class="moon-icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"
                        stroke-width="1.5" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round"
                            d="M21.752 15.002A9.718 9.718 0 0118 15.75c-5.385 0-9.75-4.365-9.75-9.75 0-1.33.266-2.597.748-3.752A9.753 9.753 0 003 11.25C3 16.635 7.365 21 12.75 21a9.753 9.753 0 009.002-5.998z" />
                    </svg>
                </button>
            </div>
        </header>

        <main class="split-view">
            <!-- Left Panel: Input & Controls -->
            <section class="panel input-panel">
                <div class="panel-header">
                    <div class="input-control-group left" style="display: flex; align-items: center; gap: 0.75rem;">
                        <h2 style="margin-right: 1rem;">Input</h2>
                        <button id="lock-toggle-btn" class="btn-icon" title="Unlock Input">
                            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
                                stroke="currentColor" class="icon-sm">
                                <path stroke-linecap="round" stroke-linejoin="round"
                                    d="M16.5 10.5V6.75a4.5 4.5 0 10-9 0v3.75m-.75 11.25h10.5a2.25 2.25 0 002.25-2.25v-6.75a2.25 2.25 0 00-2.25-2.25H6.75a2.25 2.25 0 00-2.25 2.25v6.75a2.25 2.25 0 002.25 2.25z" />
                            </svg>
                        </button>
                        <input type="file" id="file-upload" accept=".txt,text/plain" style="display: none;">
                        <button id="upload-trigger-btn" class="btn-icon" title="Upload Text File">
                            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
                                stroke="currentColor" class="icon-sm">
                                <path stroke-linecap="round" stroke-linejoin="round"
                                    d="M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5m-13.5-9L12 3m0 0l4.5 4.5M12 3v13.5" />
                            </svg>
                        </button>
                        <div class="divider"></div>
                        <label for="lines-per-block" style="white-space: nowrap;">lines per block</label>
                        <input type="number" id="lines-per-block" value="80" min="1">
                    </div>

                    <div class="input-control-group right"
                        style="display: flex; align-items: center; gap: 0.75rem; margin-left: auto;">
                        <div style="flex: 1;"></div> <!-- Spacer just in case -->
                        <button id="input-scroll-top" class="btn-icon" title="Go to Start">
                            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
                                stroke="currentColor" class="icon-sm">
                                <path stroke-linecap="round" stroke-linejoin="round" d="M4.5 15.75l7.5-7.5 7.5 7.5" />
                            </svg>
                        </button>
                        <button id="input-scroll-bottom" class="btn-icon" title="Go to End">
                            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
                                stroke="currentColor" class="icon-sm">
                                <path stroke-linecap="round" stroke-linejoin="round" d="M19.5 8.25l-7.5 7.5-7.5-7.5" />
                            </svg>
                        </button>
                        <div class="divider"></div>
                        <span id="input-line-count" class="badge">0 line</span>
                    </div>
                </div>

                <div id="drop-zone" class="drop-zone full-height">
                    <div class="editor-wrapper">
                        <div id="line-numbers" class="line-numbers">1</div>
                        <textarea id="text-input" placeholder="Type here or drag & drop a text file..."
                            spellcheck="false" readonly></textarea>
                    </div>
                    <div class="drop-overlay">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
                            stroke="currentColor" class="size-6">
                            <path stroke-linecap="round" stroke-linejoin="round"
                                d="M19.5 14.25v-2.625a3.375 3.375 0 00-3.375-3.375h-1.5A1.125 1.125 0 0113.5 7.125v-1.5a3.375 3.375 0 00-3.375-3.375H8.25m2.25 0H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 00-9-9z" />
                        </svg>
                        <span>Drop File Here</span>
                    </div>
                </div>
            </section>

            <!-- Right Panel: Results -->
            <section class="panel result-panel">
                <button id="layout-toggle-btn" class="layout-toggle" title="Expand Results">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2.5"
                        stroke="currentColor" class="icon-md">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M15.75 19.5L8.25 12l7.5-7.5" />
                    </svg>
                </button>
                <div class="panel-header">
                    <div class="input-control-group left" style="display: flex; align-items: center; gap: 0.75rem;">
                        <h2 style="margin-right: 1rem;">Output</h2>
                        <button id="download-all-zip-btn" class="btn-icon" title="Download all blocks as ZIP" disabled>
                            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
                                stroke="currentColor" class="icon-sm">
                                <path stroke-linecap="round" stroke-linejoin="round"
                                    d="M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5M16.5 12L12 16.5m0 0L7.5 12m4.5 4.5V3" />
                            </svg>
                        </button>
                    </div>
                    <span id="filename-display" class="filename-display"></span>
                    <span id="result-count" class="badge">0 block</span>
                </div>
                <div id="blocks-container" class="blocks-list">
                    <!-- Blocks will be generated here -->
                    <div class="empty-state">
                        Start typing or upload a file to see results...
                    </div>
                </div>
            </section>
        </main>

        <div id="toast" class="toast hidden">Copied to clipboard!</div>
    </div>
    <script src="app.js"></script>
</body>

</html>